---
layout: page
title: API
order: 6
---

## Search Endpoints

All Search endpoints return a sorted json array. The search data is populated by observing data that has been relayed through the instance of TSAF.

### /api/metric

Returns the metrics that have been relayed through TSAF.

### /api/metric/{tagk}/{tagv}

Returns the metrics that are available for the specified tagk/tagv pair. For example, you can see what metrics are available for host=server01.

### /api/tagk/{metric}

Get all the available tagks that exist for the specified metric

### /api/tagv/{tagk}

Get all the available tagvs for the specified tagk

### /api/tagv/{tagk}/{metric}

Get all the available tagvs for the specific tagk and metric combination. You can optionally add a query string of tagk=tagv pairs to filter it even more. For example: `/api/tagv/iface/os.net.bytes?host=server01&direction=in`

## Passthrough Endpoints
By default, TSAF also listen on `:4242` and passes all HTTP API requests through to OpenTSDB. So if you are you are looking to send data to tsaf or query it using opentsdb's query format, then look at the [OpenTSDB Documentation on its API Endpoints](http://opentsdb.net/docs/build/html/api_http/index.html#api-endpoints).

We also have this reference for [sending data to TSAF](https://github.com/StackExchange/tsaf/wiki/Sending-data-to-TSAF).

## Expression Endpoint
### /api/expr?q={url encoded TSAF expression}
The expression endpoint takes a URL encoded TSAF expression expression and returns the results and OpenTSDB queries. The results includes a breakdown of the computations involved in the expression, the result or value, and the [Group](https://github.com/StackExchange/tsaf/wiki/Configuration-Syntax#groups) (OpenTSDB's Tagset) of the expression. The Queries are the [OpenTSDB requests](http://godoc.org/github.com/StackExchange/scollector/opentsdb#Request) generated by the query.

## Configuration Endpoints
### /api/config
Returns the current configuration that TSAF is loaded with as text.
